{
	"name": "IPReputation",
	"author": [
		"Kosta Harlan"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:IPReputation",
	"descriptionmsg": "ipreputation-desc",
	"license-name": "GPL-2.0-or-later",
	"type": "other",
	"requires": {
		"MediaWiki": ">= 1.46"
	},
	"AutoloadClasses": {
		"MediaWiki\\IPReputation\\Maintenance\\GetIPReputationData": "maintenance/GetIPReputationData.php"
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\IPReputation\\": "src/"
	},
	"MessagesDirs": {
		"IPReputation": [
			"i18n"
		]
	},
	"HookHandlers": {
		"ConfirmEditHooks": {
			"class": "MediaWiki\\Extension\\IPReputation\\Hooks\\Handlers\\ConfirmEditHandler",
			"services": [
				"MainConfig",
				"IPReputationIPoidDataLookup"
			]
		},
		"AbuseFilterHandler": {
			"class": "MediaWiki\\Extension\\IPReputation\\Hooks\\Handlers\\AbuseFilterHandler",
			"services": [
				"UserNameUtils",
				"IPReputationIPoidDataLookup"
			]
		},
		"GetSecurityLogContextHandler": {
			"class": "MediaWiki\\Extension\\IPReputation\\Hooks\\Handlers\\GetSecurityLogContextHandler",
			"services": [
				"IPReputationIPoidDataLookup"
			]
		}
	},
	"Hooks": {
		"AbuseFilter-builder": "AbuseFilterHandler",
		"AbuseFilterCustomProtectedVariables": "AbuseFilterHandler",
		"AbuseFilterGenerateAccountCreationVars": "AbuseFilterHandler",
		"AbuseFilter-generateUserVars": "AbuseFilterHandler",
		"AbuseFilter-interceptVariable": "AbuseFilterHandler",
		"ConfirmEditTriggersCaptcha": "ConfirmEditHooks",
		"GetSecurityLogContext": "GetSecurityLogContextHandler"
	},
	"config": {
		"IPReputationDataProvider": {
			"description": "Name of the provider to use for retrieving IP reputation data. Valid values: \"nodejs_ipoid\". If not set, the provider will always return null for IP reputation lookups.",
			"value": null
		},
		"IPReputationIPoidUrl": {
			"description": "URL to access IPoid service",
			"value": "http://localhost:6035"
		},
		"IPReputationIPoidCheckAtAccountCreation": {
			"description": "Feature flag to enable/disable auditing account creation based on IP reputation data from IPoid service https://wikitech.wikimedia.org/wiki/Service/IPoid.",
			"value": true
		},
		"IPReputationIPoidRequestTimeoutSeconds": {
			"description": "Number of seconds to use for timeout and connectTimeout options to HTTP request factory when calling IPoid",
			"value": 2
		},
		"IPReputationEnableLoginCaptchaIfIPKnown": {
			"description": "If the IP is known to IPoid, require a CAPTCHA on Special:UserLogin.",
			"value": true
		},
		"IPReputationDeveloperMode": {
			"description": "If developer mode is enabled. This should be set to false in production. Developer mode can affect whether e.g. SSL certification validation is enabled in HTTP requests",
			"value": false
		}
	},
	"AuthManagerAutoConfig": {
		"preauth": {
			"IPReputationPreAuthenticationProvider": {
				"class": "MediaWiki\\Extension\\IPReputation\\PreAuthenticationProvider",
				"services": [
					"IPReputationIPoidDataLookup",
					"StatsFactory",
					"PermissionManager"
				],
				"sort": 0
			}
		}
	},
	"ServiceWiringFiles": [
		"src/ServiceWiring.php"
	],
	"manifest_version": 2
}
